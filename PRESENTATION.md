# Курсовая работа: «Система продажи билетов в кино» (Cinema System)

---

## Слайд 1 — Титульный

Содержимое для слайда:
- Курсовая работа: "Система продажи билетов в кино"
- Студент: Мучкаев Хонгр Сананович
- Группа: ид23-1
- Университет: Финансовый университет при Правительстве РФ
- Email: egoxo0@gmail.com
- Телефон: 8 906 437 3286
- Период выполнения: 01.11.25 — 12.12.25

Текст для говорения:
> Здравствуйте. Меня зовут Мучкаев Хонгр Сананович, я представляю курсовую работу "Система продажи билетов в кино". В этой презентации я расскажу о задаче, архитектуре решения, реализованных возможностях, тестировании и демонстрации работы приложения.

---

## Слайд 2 — Цель и задачи

Содержимое для слайда:
- Цель: Разработать веб-приложение для управления кинотеатром и продажи билетов.
- Задачи:
  - регистрация и аутентификация пользователей;
  - CRUD для фильмов, залов и сеансов (для администратора);
  - покупка билетов для зарегистрированных пользователей;
  - хранение данных в БД; покрытие тестами ключевой логики.

Текст для говорения:
> Цель проекта — создать удобное веб-приложение для управления кинотеатром и продажи билетов. Для достижения цели я реализовал регистрацию и авторизацию, административную панель для управления фильмами, залами и сеансами, а также механизм покупки билетов с проверкой занятости мест. Также была организована работа с базой данных и написаны тесты для ключевых компонентов.

---

## Слайд 3 — Технологии

Содержимое для слайда (bullet list):
- Язык: Java 17
- Фреймворк: Spring Boot (Spring MVC, Spring Data JPA, Spring Security)
- Шаблонизация: Thymeleaf
- БД: PostgreSQL (production), H2 (test-profile)
- Сборка: Maven
- Тесты: JUnit 5, Spring Boot Test, MockMvc

Текст для говорения:
> Приложение написано на Java 17 с использованием Spring Boot. Для работы с данными использовал Spring Data JPA, а для безопасности — Spring Security. Интерфейс реализован на Thymeleaf. В продакшене конфигурируется PostgreSQL, для тестов — встроенная H2. Сборка — Maven, тесты — JUnit и MockMvc.

---

## Слайд 4 — Архитектура приложения

Содержимое для слайда (простая диаграмма/список):
- Контроллеры (web layer)
- Сервисы (бизнес-логика)
- Репозитории (данные/JPA)
- Модель (сущности: User, Role, Movie, Hall, Session, Ticket)
- Представления (Thymeleaf шаблоны)

Текст для говорения:
> Приложение следует классической многослойной архитектуре: контроллеры обрабатывают HTTP-запросы и делегируют работу сервисам. Сервисы содержат бизнес-логику и используют репозитории для доступа к базе данных. Модель состоит из сущностей — пользователи, роли, фильмы, залы, сеансы и билеты. Шаблоны Thymeleaf формируют HTML.

---

## Слайд 5 — Модель данных (сущности)

Содержимое для слайда:
- User: id, username, password, roles
- Role: id, name
- Movie: id, title, genre, duration
- Hall: id, name, seats
- Session: id, movie, hall, startTime, price, availableSeats
- Ticket: id, session, user, row, place, status

Текст для говорения:
> В основе — несколько ключевых сущностей. User и Role для авторизации; Movie и Hall описывают контент и инфраструктуру; Session — сеанс фильма в конкретном зале с ценой и количеством свободных мест; Ticket — купленный билет, с указанием места и статуса.

---

## Слайд 6 — Основные функции пользователя

Содержимое для слайда:
- Регистрация и вход
- Просмотр списка фильмов и сеансов
- Покупка билета на выбранный сеанс
- Просмотр своих билетов

Текст для говорения:
> Обычный пользователь может зарегистрироваться и войти в систему, просмотреть доступные фильмы и сеансы, выбрать место и купить билет. После покупки билет хранится в личном кабинете.

---

## Слайд 7 — Функции администратора

Содержимое для слайда:
- CRUD для фильмов
- CRUD для залов
- CRUD для сеансов
- Просмотр статистики (кол-во проданных билетов и доход)

Текст для говорения:
> Администратор может добавлять и редактировать фильмы, залы и сеансы. Также реализована страница статистики, где отображается число проданных билетов и суммарный доход по сеансам.

---

## Слайд 8 — Реализация ключевых сценариев

Содержимое для слайда:
- Покупка билета: проверка занятости места, уменьшение availableSeats, сохранение билета.
- Создание сеанса: назначение фильма, зала, времени и цены.
- Поиск: фильтрация фильмов/сеансов по названию и дате.

Текст для говорения:
> При покупке билета сервис проверяет, не занято ли место, затем уменьшает счётчик availableSeats и сохраняет запись билета. Создание сеанса связывает фильм и зал. Для поиска использую безопасные JPQL-запросы с LOWER/CONCAT для нечувствительности к регистру.

---

## Слайд 9 — Безопасность

Содержимое для слайда:
- Spring Security: аутентификация и авторизация
- Роли: ROLE_ADMIN и ROLE_USER
- Ограничение доступа: админские страницы — только для администраторов

Текст для говорения:
> Для управления доступом применяется Spring Security. В системе есть две роли: пользователь и администратор. Маршруты администрирования защищены и доступны только пользователю с ролью администратора.

---

## Слайд 10 — Тестирование

Содержимое для слайда:
- Unit-тесты для сервисов
- Integration-тесты с MockMvc и профилем H2
- Проверены сценарии: отображение списка сеансов, покупка билета, обработка ошибок

Текст для говорения:
> Для надёжности написаны unit-тесты для сервисного слоя и интеграционные тесты через MockMvc, которые запускаются с H2. Тесты покрывают ключевые сценарии — получение списка сеансов и безопасный процесс покупки билета.

---

## Слайд 11 — Проблемы и решения

Содержимое для слайда:
- Проблема: Thymeleaf бросал TemplateInputException при использовании reserved name `session` в шаблонах
- Решение: переименовать переменные итерации (например, `sess`) и добавить защиту от null
- Проблема: некорректная валидация формы покупки билета, из-за чего POST падал
- Решение: переместить назначение session/price на сервер и проверить входные данные в сервисе

Текст для говорения:
> Во время разработки встретились реальные баги: Thymeleaf запрещал использовать имя `session` как переменную в шаблоне, что приводило к 500; это было исправлено переименованием переменной. Также были ошибки в обработке POST-запроса покупки — валидация и заполнение данных должны происходить на сервере, поэтому я изменил логику контроллера и сервиса.

---

## Слайд 12 — Демонстрация (как запустить)

Содержимое для слайда (коротко):
- mvn -DskipTests package
- java -jar target/cinema-system-1.0.0.jar --spring.profiles.active=test
- Открыть: http://localhost:8080

Текст для говорения:
> Для запуска локально соберите проект командой mvn package и запустите jar с профилем test (используется H2). После старта сервера откройте браузер по адресу localhost:8080. Для входа используйте регистрацию в приложении или учетку администратора, если она предусмотрена в данных.

---

## Слайд 13 — Результаты и выводы

Содержимое для слайда:
- Реализовано веб-приложение для продажи билетов
- Административная часть для управления содержимым
- Тесты обеспечивают корректность ключевых сценариев
- Приложение готово к дальнейшему расширению

Текст для говорения:
> В результате получено полнофункциональное приложение для продажи билетов с админкой, безопасностью и тестовым покрытием. Проект можно масштабировать: добавить оплату, брокер очередей, microservices и пр.

---

## Слайд 14 — Дальнейшая работа (future work)

Содержимое для слайда:
- Интеграция платежной системы (онлайн-оплата)
- Улучшение UI/UX (SPA на React/Vue)
- Расширенная статистика и отчетность
- CI/CD и деплой в облако

Текст для говорения:
> В качестве дальнейших шагов можно подключить платёжную систему, улучшить интерфейс с использованием SPA, добавить более точную аналитику и настроить CI/CD для автоматической сборки и деплоя приложения.

---

## Слайд 15 — Вопросы

Содержимое для слайда:
- Спасибо за внимание!
- Вопросы?

Текст для говорения:
> Спасибо за внимание. Буду рад ответить на вопросы.

---

## Примечания для докладчика (короткая шпаргалка)

- Подчеркните мотивацию: удобство для пользователей и автоматизация работы кинотеатра.
- При демонстрации покажите: страницу со списком сеансов, форму покупки билета и админ-панель создания сеанса.
- Если спросят про баги — подробно опишите проблему с Thymeleaf и как был найден и исправлен баг.
- Готовьте 2-3 коротких скриншота страниц для визуализации в презентации.


---

Файл слайдов создан автоматически. Если хотите — могу сократить/удлинить текст для отдельных слайдов, добавить английскую версию или подготовить PowerPoint (pptx) с этими слайдами.